# 常见面试题

## 键入网址后发生什么

- 解析URL（应用层）

    得到Web服务器和请求资源路径，根据这些信息形成HTTP请求信息（头和体）

- DNS解析

- 操作系统协议栈

- TCP

- IP

- 加 MAC 头部

- 链路层物理层：网卡，交换机，路由器



## ping 后的过程

假设 ping www.baidu.com

- 源主机构建一个 ICMP 会送请求消息数据包，主要包括类型为 8，和序号为 1 ，用于区分连续ping 的时候发出的多个数据包，每发出一个请求数据包，序号会自动加 1，同时为了能计算往返时间 RTT，会在报文数据部分插入发送时间
- 由 ICMP 协议将这个数据包连同地址一起交给 IP 层协议，IP 层以该地址作为目的地址，本机 IP 作为源地址，协议字段为 1。
- 通过 ARP 协议加上 MAC 头进行发送。
- 目的地址收到该数据帧后，检查 MAC 地址后，交给 IP 层检查，然后通过 ICMP 协议构建一个 ICMP 回送响应信息数据包，类型为 0，序号为接收到的请求数据包中的序号，发送回给源主机 