# 并发编程



## 1. 进程与线程

### 1.1 进程与线程

#### 进程

- 程序 = 指令 + 数据，指令需要加载到CPU运行，数据需要加载到内存，另外也需要磁盘、网络等设备。进程就是用来加载指令、管理内存、管理IO的。
- 当一个程序被运行，从磁盘加载这个程序的代码到内存，这时就开启了一个进程
- 进程即为程序的一个实例

#### 线程

- 一个进程可以分为多个线程
- 一个线程就是一个指令流，将指令流的一条条的指令按一定顺序交给CPU执行
- Java中线程是最小调度单位，进程是资源分配最小单位

#### 对比

- 进程间基本相互独立，线程存在于进程内，是进程的子集
- 进程拥有共享的资源，如内存空间，供其内部线程共享
- 进程间通信复杂，有同一机器通过IPC，也有不同机器间通过网络协议通信。 线程通信相对简单，因为他们共享进程内的内存，e.g 多个线程可以访问同一个共享变量
- 线程更轻量，线程上下文切换成本较进程低



### 1.2 并行与并发

操作系统有任务调度器，将CPU的时间片分给不同的程序使用